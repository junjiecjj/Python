# 双站测向时差定位阶段报告

## 1. 双站测向时差定位

### 1.1 定位算法

双站测向时差定位示意图如下：

（示意图：包含目标点$X(x,y)$、两个基站$S_0(x_0,y_0)$（标记为$B_0$）和$S_1(x_1,y_1)$（标记为$B_1$），以及目标到两基站的距离$r_0$、$r_1$）

已知两个基站的坐标分别为$S_0(x_0, y_0)$和$S_1(x_1, y_1)$，信号传播速度为$C$，测量得到的目标信号到达两个基站的时间差为$\Delta t$，目标与两个基站的水平夹角分别为$\beta_0$和$\beta_1$，通过这些已知数据求得目标的坐标$X(x, y)$。

#### 核心公式



1.  目标到两个基站的距离：

$r_1=\sqrt{(x-x_1)^2+(y-y_1)^2}, r_0=\sqrt{(x-x_0)^2+(y-y_0)^2}$



1.  时差方程：

$c \Delta t=\Delta r=\sqrt{(x-x_1)^2+(y-y_1)^2}-\sqrt{(x-x_0)^2+(y-y_0)^2}$



1.  夹角方程：

$tan \beta_0=\frac{y-y_0}{x-x_0}, tan \beta_1=\frac{y-y_1}{x-x_1}$

#### 方程组求解

对时差方程进行化简，并与第一个夹角方程合并为方程组$A X=F$，其中：

$A=\begin{bmatrix}x_0-x_1 & y_0-y_1 \\ tan \beta_0 & -1\end{bmatrix}, X=\begin{bmatrix}x \\ y\end{bmatrix}, F=\begin{bmatrix}k+r_0 \Delta r \\ tan \beta_0 x_0 - y_0\end{bmatrix}$

$k=\frac{1}{2}\left[\Delta r^2+(x_0^2+y_0^2)-(x_1^2+y_1^2)\right]$

最终可求得目标的坐标为$X=A^{-1} F$。

### 1.2 定位精度分析

#### 微分方程推导



1.  对第一个夹角方程$\beta_0=\arctan \frac{y-y_0}{x-x_0}$两边求微分并化简：

$d \beta_0=-\frac{sin^2 \beta_0}{y-y_0} d x+\frac{cos^2 \beta_0}{x-x_0} d y+\frac{sin^2 \beta_0}{y-y_0} d x_0-\frac{cos^2 \beta_0}{x-x_0} d y_0$



1.  对距离差方程求微分并化简：

$d \Delta r=\left(\frac{x-x_1}{r_1}-\frac{x-x_0}{r_0}\right) d x+\left(\frac{y-y_1}{r_1}+\frac{y-y_0}{r_0}\right) d y+\left(\frac{x-x_0}{r_0} d x_0+\frac{y-y_0}{r_0} d y_0\right)-\left(\frac{x-x_1}{r_1} d x_1+\frac{y-y_1}{r_1} d y_1\right)$

#### 矩阵方程与误差矩阵

将上述微分方程转变为矩阵方程形式$d V=C d X+U d S_0 - W d S_1$，其中：

$C=\begin{bmatrix} -\frac{sin^2 \beta_0}{y-y_0} & \frac{cos^2 \beta_0}{x-x_0} \\ \frac{x-x_1}{r_1}-\frac{x-x_0}{r_0} & \frac{y-y_1}{r_1}+\frac{y-y_0}{r_0} \end{bmatrix}, U=\begin{bmatrix}\frac{sin^2 \beta_0}{y-y_0} & -\frac{cos^2 \beta_0}{x-x_0} \\ \frac{x-x_0}{r_0} & \frac{y-y_0}{r_0} \end{bmatrix}$

$W=\begin{bmatrix}0 & 0 \\ \frac{x-x_1}{r_1} & \frac{y-y_1}{r_1}\end{bmatrix}, d V=\begin{bmatrix}d \beta_0 \\ d \Delta r\end{bmatrix}, d X=\begin{bmatrix}d x \\ d y\end{bmatrix}, d S_0=\begin{bmatrix}d x_0 \\ d y_0\end{bmatrix}, d S_1=\begin{bmatrix}d x_1 \\ d y_1\end{bmatrix}$

进一步解得目标的误差矩阵为：

$P_{d X}=E\left(d X d X^T\right)=C^{-1}\left[R_{v}+U R_{S_0} U^T+W R_{S_1} W^T\right] C^{-T}$

#### 相关参数定义



*   $R_{v}=E\left(d V d V^T\right)=\begin{bmatrix}\sigma_{\beta}^{2} & 0 \\ 0 & \sigma_{\Delta r}^{2}\end{bmatrix}$：测量参数误差矩阵。

*   $R_{S_0}=E(d S_0 d S_0^T)=\begin{bmatrix}\sigma_{S}^{2} & 0 \\ 0 & \sigma_{S}^{2}\end{bmatrix}$：基站$S_0$的位置误差矩阵。

*   $R_{S_1}=E(d S_1 d S_1^T)=\begin{bmatrix}\sigma_{S}^{2} & 0 \\ 0 & \sigma_{S}^{2}\end{bmatrix}$：基站$S_1$的位置误差矩阵。

*   $\sigma_{\beta}$：角度均方根误差。

*   $\sigma_{\Delta r}=c \sigma_{\Delta t}$：时差均方根误差。

*   $\sigma_{s}$：位置均方根误差。

*   几何精度因子：$G D O P=\sqrt{P_{d X}(1,1)+P_{d X}(2,2)}$

### 1.3 仿真分析

#### 基础参量设置



*   基站坐标：$S_0(-500,0)m$，$S_1(500,0)m$

*   角度均方根误差：$3mrad$

*   时差均方根误差：$20ns$

*   位置均方根误差：$0.5m$

#### 基础仿真结果

（仿真图：标注 “error\_=3mrad,error=0.5m,error:=20ns,value of GDOP”，x 轴单位为 km，范围含 - 20 至 30 等区间）



| 坐标 /m       | GDOP/m   |
| ----------- | -------- |
| (0,10000)   | 1352.5   |
| (3500,5000) | 729.2783 |

#### 变量优化仿真



1.  **角度均方根误差减小为 0.3mrad**

*   仿真条件：角度均方根误差$0.3mrad$，时差均方根误差$20ns$，位置均方根误差$0.5m$

*   （仿真图：标注 “error.=0.3mrad,error:=0.5m.error:=20ns,value of GDOP”，x 轴单位为 km，范围含 - 30 至 30 等区间）

*   结果表格：



| 坐标 /m       | GDOP/m   |
| ----------- | -------- |
| (0,10000)   | 1212.9   |
| (3500,5000) | 671.3681 |



1.  **时差均方根误差减小为 2ns**

*   仿真条件：角度均方根误差$3mrad$，时差均方根误差$2ns$，位置均方根误差$0.5m$

*   （仿真图：标注 “error 3mra,eror .0-.mror2mnu”，x 轴单位为 km，范围含 - 30 至 10 等区间）

*   结果表格：



| 坐标 /m       | GDOP/m   |
| ----------- | -------- |
| (0,10000)   | 629.6624 |
| (3500,5000) | 304.2796 |



1.  **位置均方根误差减小为 0.05m**

*   仿真条件：角度均方根误差$3mrad$，时差均方根误差$20ns$，位置均方根误差$0.05m$

*   （仿真图：标注 “error =3mrad.error,=0.05m,error,=20ns,value of GDOP”，x 轴单位为 km，范围含 - 20 至 10 等区间）

*   结果表格：



| 坐标 /m       | GDOP/m   |
| ----------- | -------- |
| (0,10000)   | 1345.1   |
| (3500,5000) | 725.0455 |



1.  **基站的基线长度加大为 2km**

*   仿真条件：基站基线长度$2km$（坐标未明确给出，默认沿 x 轴分布），角度均方根误差$3mrad$，时差均方根误差$20ns$，位置均方根误差$0.5m$

*   （仿真图：标注 “error 3mrad,eror=0.5m,error:20ns,.yalue of GDOP”，x 轴单位为 km，范围含 - 40 至 40 等区间）

*   结果表格：



| 坐标 /m       | GDOP/m   |
| ----------- | -------- |
| (0,10000)   | 430.0214 |
| (3500,5000) | 225.3581 |

#### 仿真结论

从上述几组仿真图像和两个坐标点的 GDOP 变化情况可以看出，减小角度、位置和时差测量的误差以及增大基站间的基线长度，都可以使定位精度提高。

> （注：文档部分内容可能由 AI 生成）